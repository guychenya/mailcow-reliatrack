# Mailcow Email Server for reliatrack.org

## What This Provides
- Full email server (send + receive)
- Webmail interface (SOGo)
- SMTP for Plane and other apps
- Admin panel
- Spam filtering, antivirus
- IMAP/POP3 support

## Deployment to Coolify

### 1. Push to GitHub
```bash
cd ~/mailcow-deploy
git init
git add .
git commit -m "Initial Mailcow setup for reliatrack.org"
gh repo create mailcow-reliatrack --public --source=. --push
```

### 2. Deploy via Coolify
1. Go to https://coolify.reliatrack.org
2. Select "Contabo" server
3. Add new resource → Docker Compose
4. Point to: https://github.com/guychenya/mailcow-reliatrack
5. Deploy!

### 3. Access
- Web UI: http://157.173.126.133:8080
- Or: http://mail.reliatrack.org:8080 (after DNS)
- Default login: admin / moohoo

## DNS Records Required

Add these to reliatrack.org domain:

```
A Record:
mail.reliatrack.org → 157.173.126.133

MX Record:
reliatrack.org → mail.reliatrack.org (Priority: 10)

TXT Record (SPF):
reliatrack.org → v=spf1 ip4:157.173.126.133 ~all

TXT Record (DMARC):
_dmarc.reliatrack.org → v=DMARC1; p=none;
```

DKIM will be generated by Mailcow after setup.

## Port Mapping (Alternative Ports)

Since port 25 might be blocked:
- SMTP: 2525 (instead of 25)
- SMTP Submission: 2587 (instead of 587)
- IMAP: 2993 (instead of 993)
- POP3: 2995 (instead of 995)
- IMAP Plain: 2143 (instead of 143)
- Web UI: 8080 (HTTP)
- Web UI SSL: 8443 (HTTPS)

## For Plane Configuration

After Mailcow is running:

1. Create mailbox: plane@reliatrack.org
2. Use these settings in Plane:
   ```
   SMTP Host: mail.reliatrack.org
   SMTP Port: 2587
   Username: plane@reliatrack.org
   Password: (set in Mailcow)
   
   IMAP Host: mail.reliatrack.org
   IMAP Port: 2993
   Username: plane@reliatrack.org
   Password: (same as above)
   ```

## Security Notes

**CHANGE THESE PASSWORDS** in docker-compose.yml:
- MYSQL_ROOT_PASSWORD
- MYSQL_PASSWORD
- All instances of "changeme"

## First Steps After Deployment

1. Access web UI
2. Login with admin/moohoo
3. Change admin password
4. Add domain: reliatrack.org
5. Create mailboxes
6. Get DKIM key and add to DNS
7. Test email sending/receiving

## Resources Required

- RAM: 4GB minimum
- Disk: 20GB minimum
- CPU: 2 cores recommended
